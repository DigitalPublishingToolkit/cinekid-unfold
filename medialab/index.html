<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Cinekid Unfold</title>
	<!-- structure files -->
	<link href="../assets/css/reset.css" rel="stylesheet" />
	<link href="../assets/css/games.css" rel="stylesheet" />
	<!-- <link href="../assets/css/font-awesome.min.css" rel="stylesheet" /> -->
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>

<body>

	<!-- structure -->
	<div id="sidebar">
	  <a href="../index.html"><img id="logo" alt="Cinekid logo" src="../assets/icons/cinekid-logo.svg"> </a>
	  <div id="info">
	    <p>Discover information about some of the artworks presented in the Cinekid Medialab 2016, to get more familiarised with their functionalities and technologies embedded within them.</p>
	  </div><!-- end #info -->

	</div><!-- end sideBar -->
	<div id="mainFrame">
		<div id="content">
			<h1>Media Lab</h1>
			<div id="btnWrapper">
				<div class="myButton" id="btn0" data-content="m0"></div>
				<div class="myButton" id="btn1" data-content="m1"></div>
				<div class="myButton" id="btn2" data-content="m2"></div>
				<div class="myButton" id="btn3" data-content="m3"></div>
				<div class="myButton" id="btn4" data-content="m4"></div>
				<div class="myButton" id="btn5" data-content="m5"></div>
			</div>

			<!-- The Modal -->
			<div id="myModal" class="modal">
			  <!-- Modal content -->
			  <div class="modal-content">

					<div class="media">
						 <ul id="m0" data-projtitle="Fiet">
						 	<li>
								<iframe id="player" type="text/html" src="https://www.youtube.com/embed/xrGrdq7-Fe0" class="video" width="100%" height="100%"></iframe>
							</li>
							<li>
				    		<img src="imgs/fiet1.jpg">
							</li>
							<li>
				    		<img src="imgs/fiet2.jpg">
							</li>
							<li>
				    		<img src="imgs/fiet3.jpg">
							</li>
							<li>
				    		<img src="imgs/fiet4.jpg">
							</li>
							<li>
				    		<img src="imgs/fiet5.jpg">
							</li>
						</ul>

						<ul id="m1" data-projtitle="Eye Catcher">
						 <li>
							 <iframe src="https://www.youtube.com/embed/qjkJQlq8XcY" width="100%" height="100%"></iframe>
						 </li>
						 <li>
							 <iframe src="https://www.youtube.com/embed/p88mKKYBEik" width="100%" height="100%"></iframe>
						 </li>
						 <li>
							 <img src="imgs/eyecatcher1.jpg">
						 </li>
						 <li>
							 <img src="imgs/eyecatcher2.jpg">
						 </li>
						 <li>
							 <img src="imgs/eyecatcher3.jpg">
						 </li>
						 <li>
							 <img src="imgs/eyecatcher4.jpg">
						 </li>
						 <li>
							 <img src="imgs/eyecatcher5.jpg">
						 </li>
					 </ul>

					 <ul id="m2" data-projtitle="Dear Deer">
					 	<li>
							<iframe src="https://www.youtube.com/embed/BKTp9QMA5oY" width="100%" height="100%"></iframe>
						</li>
						<li>
							<img src="imgs/deardeer1.jpg">
						</li>
						<li>
							<img src="imgs/deardeer2.jpg">
						</li>
						<li>
							<img src="imgs/deardeer3.jpg">
						</li>
						<li>
							<img src="imgs/deardeer4.jpg">
						</li>
						<li>
							<img src="imgs/deardeer5.jpg">
						</li>
					</ul>

					<ul id="m3" data-projtitle="ANIMA iki">
					<li>
						 <iframe src="https://www.youtube.com/embed/IVbbtOJkHQ0" width="100%" height="100%"></iframe>
					 </li>
					 <li>
						 <iframe src="https://www.youtube.com/embed/Op76ropaugo" width="100%" height="100%"></iframe>
					 </li>
					 <li>
						 <img src="imgs/anima01.jpg">
					 </li>
					 <li>
						 <img src="imgs/anima02.jpg">
					 </li>
					 <li>
						 <img src="imgs/anima03.jpg">
					 </li>
					 <li>
						 <img src="imgs/anima04.jpg">
					 </li>
					 <li>
						 <img src="imgs/anima05.jpg">
					 </li>
				 </ul>

				 <ul id="m4" data-projtitle="Diorama No.4">
					<li>
						<iframe src="https://www.youtube.com/embed/yrr2jkwHMuc" width="100%" height="100%"></iframe>
					</li>
					<li>
						<iframe src="https://www.youtube.com/embed/Qng27VWYd3M" width="100%" height="100%"></iframe>
					</li>
					<li>
						<img src="imgs/diorama1.jpg">
					</li>
					<li>
						<img src="imgs/diorama2.jpg">
					</li>
					<li>
						<img src="imgs/diorama3.jpg">
					</li>
					<li>
						<img src="imgs/diorama4.jpg">
					</li>
					<li>
						<img src="imgs/diorama5.jpg">
					</li>
				</ul>

				<ul id="m5" data-projtitle="Treehugger">
				<li>
					 <iframe src="https://www.youtube.com/embed/LxCOR6fIzMQ" width="100%" height="100%"></iframe>
				 </li>
				 <li>
					 <img src="imgs/treehugger1.jpg">
				 </li>
				<li>
					 <img src="imgs/treehugger2.jpg">
				 </li>
				 <li>
					 <img src="imgs/treehugger3.jpg">
				 </li>
				 <li>
					 <img src="imgs/treehugger4.jpg">
				 </li>
				 <li>
					 <img src="imgs/treehugger5.jpg">
				 </li>
			 	</ul>

					</div><!-- .media -->
					
					<div class="mediaNav">
						<span class="curTitle"></span>
						<span class="prev">Prev</span> <span class="next">Next</span>
						<span id="numbers"><span class="curItem">1</span>/<span class="totalItems">5</span></span>
					</div><!--end .mediaNav-->
					
					<span class="close">x</span>
			  </div><!-- .modal-content -->
			</div><!-- #myModal -->



	</div><!-- #content -->

		<a id="aTop" class="gameNav" href="../Enter_The_Writers/enterthewriters.html" data-anim="top-bottom"><img src="../assets/icons/c3.png" ></a>
		<a id="aRight" class="gameNav" href="../What_If/whatif.html" data-anim="right-left"><img src="../assets/icons/c4.png" ></a>
		<a id="aBottom" class="gameNav" href="../Enter_The_Writers/enterthewriters.html" data-anim="bottom-top"><img src="../assets/icons/c3.png" ></a>
		<a id="aLeft" class="gameNav" href="../Video_KIDS/Video_children.html" data-anim="left-right"><img src="../assets/icons/c5.png" ></a>

	</div><!-- #mainFrame -->

<script>
$(document).ready(function(){

	//declare variables

	var selModal;
	var totalMedia;
	var curMedia;
	var mediaWidth = $(window).width() * 0.36;
	var mediaHeight = $(window).height() * 0.54;

	//var curItem, totalItems;


	/* initial state */

	$('.media ul li').css({
		'display': 'none'
	});

	/* events */

	$('.myButton').on('click', function(){

			//console.log('title ' +$(this).text());
		  //$('.media ul li').removeClass('curMedia');
		  $(this).addClass('clicked');
		  $('#myModal').css('display', 'block');
			// selModal = $(this).index(); //0, 1, etc
			selModal = $(this).data('content');
			selectModal(selModal);
	});

	$('.close').on('click', function(){
		//$('.media ul li').removeClass('curMedia');
		$('#'+selModal + ' li').removeClass('curMedia');
		$('#myModal').css('display', 'none');

		//delete existing li items
		// $('.media ul').children().remove();
		//$('.media ul').css('display', 'none');
	});

	$(window).on('click', function(ev){
		if (ev.target.id == 'myModal') {
			//$('.media ul li').removeClass('curMedia');
			$('#'+selModal + ' li').removeClass('curMedia');
			$('#myModal').css('display', 'none');
				//delete existing li items
				// $('.media ul').children().remove();
				//$('.media ul').css('display', 'none');
		}
	});


	$('.next').on('click', function(){
		//remove curMedia from original item
		$('#'+selModal + ' li').eq(curMedia).removeClass('curMedia');

		//update curMedia value
		if(curMedia < totalMedia - 1){
			curMedia++;
		}else{
			curMedia = 0;
		}

		//update curItem text
		$('.curItem').text(curMedia+1);

		//add class to new curMedia item
		$('#'+selModal + ' li').eq(curMedia).addClass('curMedia');

		//adjust media size before displaying it
		$('#'+selModal + ' li').eq(curMedia).css('height',mediaHeight);

	});//end next

	$('.prev').on('click', function(){

		//remove curMedia from original item
		$('#'+selModal + ' li').eq(curMedia).removeClass('curMedia');

			//update curMedia value
		if(curMedia > 0){
			curMedia--;
		}else{
			curMedia = totalMedia - 1;
		}

		//update curItem text
		$('.curItem').text(curMedia+1);

		//add class to new curMedia item
		$('#'+selModal + ' li').eq(curMedia).addClass('curMedia');

		//adjust media size before displaying it
		$('#'+selModal + ' li').eq(curMedia).css('height',mediaHeight);

	});//end prev

	/* functions */

	function selectModal(selModal){

		var selUL = $('#'+selModal);
		totalMedia = $(selUL).children().length;
		curMedia = 0;

		var curTitle = $(selUL).data('projtitle');

		$('.curTitle').text(curTitle);

		//initial text curItem and totalItems
		$('.curItem').text(curMedia+1);
		$('.totalItems').text(totalMedia);

		//adjust media size before displaying it
		$('#'+selModal + ' li').eq(curMedia).css('height',mediaHeight);

		//display first media item
		$('#'+selModal + ' li').eq(curMedia).addClass('curMedia');

	}// end selectModal function


});

</script>

<!-- javaScript for make the video stop when the modal is closed -->
<script type="text/javascript" src="https://www.youtube.com/iframe_api">

      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          // height: '360',
          // width: '640',
          // videoId: 'M7lc1UVf-VE',
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      function onPlayerReady(event) {
        event.target.playVideo();
      }

      var done = false;
      function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
          setTimeout(stopVideo, 6000);
          done = true;
        }
      }
      function stopVideo() {
        player.stopVideo();
      }

</script>

<!-- structure -->
<script src="../assets/js/games.js"></script>

</body>
</html>
